var app=angular.module("abra",["ngRoute","ui.bootstrap","ngResource","angularSpinners"]);app.config(["$routeProvider",function(a){a.when("/",{controller:"IndexController",templateUrl:"views/index.html"}).when("/items",{controller:"ItemController",templateUrl:"views/items.html"}).when("/items/:itemId",{controller:"ItemDataController",templateUrl:"views/itemData.html"}).otherwise({templateUrl:"views/404.html",resolve:{err:function(){return{status:404}}}})}]).config(["$locationProvider",function(a){a.hashPrefix("!")}]),app.controller("IndexController",["$scope",function(a){}]),app.controller("ItemController",["$scope","$http","$location","$routeParams","Item","spinnerService",function(a,b,c,d,e,f){a.itemImages=[],a.init=function(){e.get_item_files({},function(b){a.itemImages=b},function(a){console.log("err"+a)})},a.getImagePath=function(a){return"/img/item/"+a},a.getItems=function(){a.items=data,console.log(data)}}]),app.controller("ItemDataController",["$scope","$http","$location","$routeParams","Item","spinnerService",function(a,b,c,d,e,f){a.itemImages=[],a.init=function(){var b=d.itemId;e.item_query({itemId:b},function(b){a.items=b},function(a){console.log(Object.keys(a))})}}]),window.app.factory("Item",["$resource",function(a){return a("api/:action/:itemId",{},{get_item_files:{method:"GET",isArray:!0,params:{action:"items"}},item_query:{method:"GET",isArray:!0,params:{action:"items",itemId:"itemId"}}})}]),app.filter("split",function(){return function(a,b,c){return a.split(b)[c]}});