/* su-endless-scroll - v1.3.1 - 2015-09-24 */
var mod=angular.module('suEndlessScroll',[]);mod.directive('suEndlessScroll',['$window','$timeout',function(b,a){return{restrict:'A',scope:{suEndlessScroll:'=',suEndlessScrollOffset:'=',suEndlessScrollLimit:'=',suEndlessScrollAutoCheck:'='},link:function(o,f,m){var k,j,h;var e=angular.element(f);var j=e[0].scrollHeight;var p=false;var d=1000;o.$parent.suEndlessScrollItems=[];o.suEndlessScroll=(!o.suEndlessScroll)?[]:o.suEndlessScroll;o.suEndlessScrollOffset=(!o.suEndlessScrollOffset)?100:o.suEndlessScrollOffset;o.suEndlessScrollLimit=(!o.suEndlessScrollLimit)?20:o.suEndlessScrollLimit;o.suEndlessScrollAutoCheck=(o.suEndlessScrollAutoCheck===undefined)?true:o.suEndlessScrollAutoCheck;function i(){k=e[0].clientHeight;j=e[0].scrollHeight;h=(k+parseInt(o.suEndlessScrollOffset))}function g(r){i();var q=(e[0].scrollHeight-e[0].scrollTop);if(j!==r.scrollHeight){j=r.scrollHeight;p=false}if(q<=h&&!p){l();p=true}}function l(s){if(s){e[0].scrollTop=0;o.$parent.suEndlessScrollItems=[]}if(!o.suEndlessScroll||!o.suEndlessScroll[o.$parent.suEndlessScrollItems.length]){return}var t=o.$parent.suEndlessScrollItems.length;for(var r=0;r<o.suEndlessScrollLimit;r++){var q=((t)+r);if(o.suEndlessScroll[q]){o.$parent.suEndlessScrollItems.push(o.suEndlessScroll[q])}}if(!o.$parent.$$phase){o.$parent.$digest()}}function c(){g(e);if(o.suEndlessScrollAutoCheck){setInterval(function(){g(e)},d)}}function n(){c();e.bind('scroll',function(){g(this)});angular.element(b).bind('resize',function(){g(e)});o.$watch('suEndlessScroll',function(q,r){if(q){l(true)}},true)}a(n)}}}]);